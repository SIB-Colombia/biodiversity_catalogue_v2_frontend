{"version":3,"sources":["src/components/pages/LoginSignupPage/index.js"],"names":["LoginSignupPage","props","handleOpen","handleClose","state","name","lastname","username","email","password","verify","error","register","then","console","log","data","created","setState","event","key","target","getAttribute","obj","value","actions","e","update","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AAQA;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,e;;;AAEJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAAA,UAoDnBC,UApDmB;AAAA;AAAA;;AAAA,UAwDnBC,WAxDmB;AAAA;AAAA;;AAEjB,UAAKC,KAAL,GAAa;AACXC,YAAM,EADK;AAEXC,gBAAU,EAFC;AAGXC,gBAAU,EAHC;AAIXC,aAAO,EAJI;AAKXC,gBAAU,EALC;AAMXC,cAAQ,EANG;AAOXC,aAAO,EAPI;AAQXC,gBAAU;AARC,KAAb;AAFiB;AAYlB;;;;wCAEmB,CAAE;;;yCAED,CAAE;;;+BAEZ;AAAA;;AACT,wBAAO,KAAKR,KAAZ,EAAmBS,IAAnB,CAAwB,gBAAQ;;AAE9BC,gBAAQC,GAAR,CAAY,SAAZ,EAAsBC,IAAtB;AACA,YAAIA,KAAKC,OAAT,EAAkB;AAChB,iBAAKC,QAAL,CAAc;AACZb,kBAAM,EADM;AAEZC,sBAAU,EAFE;AAGZC,sBAAU,EAHE;AAIZC,mBAAO,EAJK;AAKZC,sBAAU,EALE;AAMZC,oBAAQ,EANI;AAOZC,mBAAO,EAPK;AAQZC,sBAAU;AARE,WAAd;AAUD,SAXD,MAWO;AACL,iBAAKM,QAAL,CAAc,EAACP,OAAOK,KAAKL,KAAb,EAAd;AACD;AACF,OAjBD;AAkBD;;;2BAEMQ,K,EAAO;AACZ,UAAIC,MAAMD,MAAME,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAV;AACA,UAAIC,MAAM,EAAV;AACAA,UAAIH,GAAJ,IAAWD,MAAME,MAAN,CAAaG,KAAxB;AACA,WAAKN,QAAL,CAAcK,GAAd;AACA,WAAKL,QAAL,CAAc,EAACP,OAAO,EAAR,EAAd;AACA;AACA;AACA;AACA;AACA;AACD;;;uDAEkB;AACjB,WAAKO,QAAL,CAAc,EAACN,UAAU,KAAX,EAAd;AACD;;;wDAEmB;AAClB,WAAKM,QAAL,CAAc,EAACN,UAAU,KAAX,EAAd;AACD;;;6BAEQ;AAAA;;AAEP,UAAMa,UAAU,CAAE,sDAAa,OAAQ,UAArB,EAAgC,SAC9C,IADc;AAGhB,oBACE,KAAKtB,WAJS,GAAF,EAKR;AAAA;AAAA,UAAO,IACX,eADI;AAAA;AAEF,8DAAa,OAAQ,mBAArB,EAAsC,WAAY,eAAlD,EAAkE,YACpE,KAAKA,WADH;AAFE,OALQ,CAAhB;AAWA,aACE;AAAA;AAAA,UAAc,QAAQ,uDAAtB;AAEF,kBAAW,uDAFT;AAIF,qBAAY,OAJV;AAAA;AAIoB;AAAA;AAAA,YAAQ,SAASsB,OAAjB,EAA0B,OAAO,KAAjC,EAAwC,MAAM,KAAKrB,KAAL,CAAWQ,QAAzD,EAAmE,gBAAgB,KAAKT,WAAxF;AACpB;AAAA;AAAA,cAAc,OAAM,QAApB,EAA6B,OAAM,aAAnC,EAAiD,MAAK,IAAtD;AAAA;AAAA,WADoB;AAEpB;AAAA;AAAA,cAAc,OAAM,QAApB,EAA6B,OAAM,2BAAnC;AAAA;AAAA;AAFoB,SAJpB;AAAA;AAOQ,iEAAc,MACtB,KAAKC,KADG;AAGV,kBACE,gBAACsB,CAAD;AAAA,mBAAO,OAAKC,MAAL,CAAYD,CAAZ,CAAP;AAAA,WAJQ;AAMV,mBACE;AAAA,mBAAM,OAAKd,QAAL,EAAN;AAAA,WAPQ,GAPR;AAAA;AAAA,OADF;AAiBD;;;;EA5F2B,gBAAMgB,S;;eA+FrB5B,e;;;;;;;;;gCA/FTA,e","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react';\nimport {\n  Link,\n  PageTemplate,\n  Header,\n  Footer,\n  LoginSignup,\n  TitleSection\n} from 'components';\nimport {signup} from '../../../auth';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\nclass LoginSignupPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      lastname: '',\n      username: '',\n      email: '',\n      password: '',\n      verify: '',\n      error: '',\n      register: false\n    }\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {}\n\n  register() {\n    signup(this.state).then(data => {\n\n      console.log('ddddfff',data);\n      if (data.created) {\n        this.setState({\n          name: '',\n          lastname: '',\n          username: '',\n          email: '',\n          password: '',\n          verify: '',\n          error: '',\n          register: true\n        });\n      } else {\n        this.setState({error: data.error});\n      }\n    });\n  }\n\n  update(event) {\n    var key = event.target.getAttribute(\"name\");\n    var obj = {};\n    obj[key] = event.target.value;\n    this.setState(obj);\n    this.setState({error: ''});\n    // if (this.state.pass != this.state.passverify) {\n    //   this.setState({error: 'Las contraseñas no coinciden!'});\n    // }else {\n    //   this.setState({error: ''});\n    // }\n  }\n\n  handleOpen = () => {\n    this.setState({register: false});\n  };\n\n  handleClose = () => {\n    this.setState({register: false});\n  };\n\n  render() {\n\n    const actions = [ < FlatButton label = \"Cancelar\" primary = {\n        true\n      }\n      onTouchTap = {\n        this.handleClose\n      } />, < Link to = {\n        '/login/signin'\n      } > < FlatButton label = \"Iniciar Sesión\" className = \"btn-secondary\" onTouchTap = {\n        this.handleClose\n      } />< /Link>\n    ];\n    return (\n      <PageTemplate header={< Header / >\n    }\n    footer = { < Footer />\n    }\n    wallpaper = 'Login' > <Dialog actions={actions} modal={false} open={this.state.register} onRequestClose={this.handleClose}>\n      <TitleSection align=\"center\" color=\"basescale-2\" size=\"sm\">Registrado correctamente!</TitleSection>\n      <TitleSection align=\"center\" color=\"grayscale-5 padding-top-2\">Ahora puede iniciar sesión</TitleSection>\n    </Dialog> < LoginSignup form = {\n      this.state\n    }\n    update = {\n      (e) => this.update(e)\n    }\n    trigger = {\n      () => this.register()\n    } /> </PageTemplate>)\n  }\n}\n\nexport default LoginSignupPage;\n"]}