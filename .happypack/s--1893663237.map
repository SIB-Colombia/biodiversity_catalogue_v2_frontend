{"version":3,"sources":["src/components/organisms/FileDetail/index.js"],"names":["Wrapper","div","FileDetail","props","state","sections","property","complete","indexOf","array","scan","setState","obj","stack","hasOwnProperty","keyName","split","length","push","Math","random","replace","match","Number","isInteger","parseInt","nameParent","transform","Object","keys","map","section","i","offset","duration","Component"],"mappings":"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","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react'\nimport styled from 'styled-components'\nimport Divider from 'material-ui/Divider';\nimport Paper from 'material-ui/Paper';\nimport TextField from 'material-ui/TextField';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FlatButton from 'material-ui/FlatButton';\nimport {Tabs, Tab} from 'material-ui/Tabs';\nimport Slider from 'material-ui/Slider';\nimport {Grid, Row, Col} from 'react-flexbox-grid';\nimport {\n  IconLink,\n  Link,\n  FileHeader,\n  TitleSection,\n  FileDetailTitle,\n  FileDetailTitleBlock\n} from 'components'\n\nimport {palette} from 'styled-theme';\nimport ArrowDropDown from 'material-ui/svg-icons/navigation/arrow-drop-down';\nimport Scrollchor from 'react-scrollchor';\n\n\nconst Wrapper = styled.div `\n\n\n.box{\n  margin-bottom: 1rem;\n  overflow: auto !important;\n  .main-box{\n\n  }\n}\n  .fx{\n    /*position: fixed;*/\n  }\n  .menu-scrollspy{\n    .index{\n      color: #444;\n      font-weight: 600;\n      font-size: 25px;\n      text-align: center;\n      padding: 15px 5px 15px 5px;\n      border-bottom: 1px solid #e8e8e8;\n    }\n    padding: 5px;\n    overflow: auto;\n      li{\n        padding: 8px 5px;\n      }\n      a{\n          font-size: 13px;\n          color: ${palette('grayscale', 6)} !important;\n          &:hover{\n              color: ${palette('primary', 0)} !important;\n          }\n      }\n     .is-current{\n      color: ${palette('primary', 0)} !important;\n      a{\n        color: ${palette('primary', 0)} !important;\n      }\n    }\n  }\n  .viewMore{\n    text-align: right;\n    margin-top: 10px;\n    button{\n      text-decoration: none;\n      transition: .5s ease;\n      padding: 5px 25px;\n      border:none;\n      font-weight: bold;\n      color: ${palette('grayscale', 5)};\n      background: ${palette('grayscale', 1)};\n      cursor: pointer;\n      &:hover{\n        opacity: 0.8;\n      }\n      svg{\n        vertical-align: middle;\n      }\n    }\n  }\n  .spacing{\n    margin-bottom: 20px;\n  }\n  .paragraph{\n    line-height: 1.8;\n    margin: 10px 0;\n  }\n\n`\n\nclass FileDetail extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state ={\n      sections: []\n    }\n    //console.log(this.props.complete.migratoryApprovedInUse);\n  }\n\n  componentWillMount() {\n    let sections = [];\n    //this.scan(this.props.complete.migratoryApprovedInUse,array,'');\n    //console.log(this.props.complete['migratoryApprovedInUse']);\n    for (var property in this.props.complete) {\n\n      if(property.indexOf('InUse') > -1){\n        let array = [];\n        this.scan(this.props.complete[property], array, '');\n        sections[property] = array;\n      }\n    }\n    this.setState({sections :sections});\n  }\n\n  scan(obj, array, stack) {\n\n    for (var property in obj) {\n      if (obj.hasOwnProperty(property)) {\n        if (typeof obj[property] == \"object\") {\n\n          let keyName =  stack + '.' + property;\n          if(keyName.split('.').length == 2){\n              // console.log(`${keyName}->`);\n              array.push(<FileDetailTitle key={Math.random()} text={keyName.replace('.','')}/>);\n          }\n\n          this.scan(obj[property], array, keyName);\n        } else {\n          if(obj[property] && !property.match(/^_id$|^__t$|^id_record$|^id_user$|^version$/)){\n            //console.log('>',stack);\n            if(Number.isInteger(parseInt(property))){\n              let nameParent = stack.split('.')[1];\n              let transform = stack.replace(/\\d/g,' ').replace(/\\./g,' ');\n              // let transform = stack.replace(/\\d/g,'/').replace(/\\./g,' ').replace(nameParent,'');\n              array.push(<div className=\"paragraph\" key={Math.random()} ><b>{transform}:</b> {obj[property]}</div>);\n              // console.log(`<b>${transform}:</b> ${obj[property]}`);\n            }else{\n              array.push(<div className=\"paragraph\" key={Math.random()} ><b>{property}:</b> {obj[property]}</div>);\n              // let temp = this.state.detail;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  render() {\n    //console.log('r',this.state.sections);\n    return (\n      <Wrapper>\n        <Row>\n          <Col lg={3} xs={12}>\n            <Paper className=\"menu-scrollspy\">\n              <div className=\"index\">Índice de ficha</div>\n              <ul>\n                {Object.keys(this.state.sections).map((section,i) => (\n                  <li><Scrollchor to={`#${section}`} animate={{offset: -80, duration: 600}}  className=\"nav-link\">{section}</Scrollchor></li>\n                ))}\n              </ul>\n            </Paper>\n            <br/>\n          </Col>\n\n          <Col lg={9} xs={12}>\n\n            {Object.keys(this.state.sections).map((section,i) => (<Row key={Math.random()} >\n              <Col xs={12} sm={12} md={12} lg={12} className=\"main-box\">\n                <FileDetailTitleBlock text={section} id={section} />\n                <Paper zDepth={1} className=\"paper-padding-3 t100 align-justify color-text box\">\n                  {this.state.sections[section]}\n                  <div className=\"viewMore\">\n                    <button>VER MÁS\n                      <ArrowDropDown/>\n                    </button>\n                  </div>\n                </Paper>\n              </Col>\n            </Row>\n          ))}\n\n          </Col>\n        </Row>\n\n      </Wrapper>\n    )\n  }\n}\n\nexport default FileDetail;\n"]}