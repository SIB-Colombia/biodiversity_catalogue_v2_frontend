import 'react-hot-loader/patch';
import React from 'react';
import { render } from 'react-dom';
import injectTapEventPlugin from 'react-tap-event-plugin';
injectTapEventPlugin();
import { createHistory } from 'history';
import { Router, useRouterHistory } from 'react-router';

import routes from 'routes';

var root = document.getElementById('app');
var history = useRouterHistory(createHistory)({ basename: process.env.PUBLIC_PATH });

var renderApp = function renderApp() {
  return React.createElement(Router, { key: Math.random(), history: history, routes: routes });
};

render(renderApp(), root);

if (module.hot) {
  module.hot.accept('routes', function () {
    require('routes');
    render(renderApp(), root);
  });
}