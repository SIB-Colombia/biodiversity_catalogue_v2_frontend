{"version":3,"sources":["src/components/organisms/FileSearchMenu/index.js"],"names":["Wrapper","div","FileSearchMenu","props","handleRequestDelete","handleAddChip","handleToggleMenu","state","open","schema","name","value","chipData","styles","chip","margin","wrapper","display","flexWrap","data","chipToDelete","map","indexOf","splice","setState","i","items","unshift","record","j","push","subcat","subrecord","listItems","category","renderChip","Component"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;AAQA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AACA;;;;AAEA;;;;AAEA;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;;;;;;;;;AAEA,IAAMA,UAAU,2BAAOC,GAAjB,iBAAN;;IAUMC,c;;;AAEJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACXA,KADW;;AAAA,UAoFnBC,mBApFmB;AAAA;AAAA;;AAAA,UAiGnBC,aAjGmB;AAAA;AAAA;;AAAA,UA8GnBC,gBA9GmB;AAAA;AAAA;;AAEjB,UAAKC,KAAL,GAAa;AACXC,YAAM,KADK;AAEXC,cAAQ,CACN;AACE,oBAAY,mBADd;AAEE,iBAAS,CACP;AACEC,gBAAM,UADR;AAEEC,iBAAO;AAFT,SADO,EAIJ;AACDD,gBAAM,MADL;AAEDC,iBAAO;AAFN,SAJI,EAOJ;AACDD,gBAAM,QADL;AAEDC,iBAAO;AAFN,SAPI,EAUJ;AACDD,gBAAM,UADL;AAEDC,iBAAO;AAFN,SAVI,EAaJ;AACDD,gBAAM,WADL;AAEDC,iBAAO;AAFN,SAbI,EAgBJ;AACDD,gBAAM,OADL;AAEDC,iBAAO;AAFN,SAhBI,EAmBJ;AACDD,gBAAM,SADL;AAEDC,iBAAO;AAFN,SAnBI,EAsBJ;AACDD,gBAAM,UADL;AAEDC,iBAAO;AAFN,SAtBI;AAFX,OADM,EA8BH;AACD,oBAAY,eADX;AAED,iBAAS,CACP;AACED,gBAAM,cADR;AAEEC,iBAAO;AAFT,SADO,EAIJ;AACDD,gBAAM,QADL;AAEDC,iBAAO;AAFN,SAJI;AAFR,OA9BG,EAyCH;AACD,oBAAY,aADX;AAED,iBAAS,CACP;AACED,gBAAM,iBADR;AAEEC,iBAAO;AAFT,SADO,EAIJ;AACDD,gBAAM,UADL;AAEDC,iBAAO;AAFN,SAJI,EAOJ;AACDD,gBAAM,aADL;AAEDC,iBAAO;AAFN,SAPI,EAUJ;AACDD,gBAAM,QADL;AAEDC,iBAAO;AAFN,SAVI,EAaJ;AACDD,gBAAM,kBADL;AAEDC,iBAAO;AAFN,SAbI,EAgBJ;AACDD,gBAAM,WADL;AAEDC,iBAAO;AAFN,SAhBI;AAFR,OAzCG,CAFG;AAoEXC,gBAAU;AApEC,KAAb;;AAuEA,UAAKC,MAAL,GAAc;AACZC,YAAM;AACJC,gBAAQ;AADJ,OADM;AAIZC,eAAS;AACPC,iBAAS,MADF;AAEPC,kBAAU;AAFH;AAJG,KAAd;AAzEiB;AAkFlB;;;;8DAEsBC,I,EAAS;AAC9B;AACA;AACA,WAAKP,QAAL,GAAgB,KAAKL,KAAL,CAAWK,QAA3B;AACA,UAAMQ,eAAe,KAAKR,QAAL,CAAcS,GAAd,CAAkB,UAACP,IAAD;AAAA,eAAUA,KAAKH,KAAf;AAAA,OAAlB,EAAwCW,OAAxC,CAAgDH,KAAKR,KAArD,CAArB;AACA,WAAKC,QAAL,CAAcW,MAAd,CAAqBH,YAArB,EAAmC,CAAnC;AACA,WAAKI,QAAL,CAAc,EAACZ,UAAU,KAAKA,QAAhB,EAAd;AACA;AACA,WAAKH,MAAL,GAAc,KAAKF,KAAL,CAAWE,MAAzB;AACA,WAAKA,MAAL,CAAYU,KAAKM,CAAjB,EAAoBC,KAApB,CAA0BC,OAA1B,CAAkCR,IAAlC;AACA,WAAKK,QAAL,CAAc,EAACf,QAAQ,KAAKA,MAAd,EAAd;AACD;;;wDAEgBmB,M,EAAQH,C,EAAGI,C,EAAM;AAChC;AACA,WAAKjB,QAAL,GAAgB,KAAKL,KAAL,CAAWK,QAA3B;AACAgB,aAAOH,CAAP,GAAWA,CAAX;AACAG,aAAOC,CAAP,GAAWA,CAAX;AACA,WAAKjB,QAAL,CAAckB,IAAd,CAAmBF,MAAnB;AACA,WAAKJ,QAAL,CAAc,EAACZ,UAAU,KAAKA,QAAhB,EAAd;AACA;AACA,WAAKH,MAAL,GAAc,KAAKF,KAAL,CAAWE,MAAzB;AACA,WAAKA,MAAL,CAAYgB,CAAZ,EAAeC,KAAf,CAAqBH,MAArB,CAA4BM,CAA5B,EAA+B,CAA/B;AACA,WAAKL,QAAL,CAAc,EAACf,QAAQ,KAAKA,MAAd,EAAd;AACD;;;;aAEwB,KAAKe,QAAL,CAAc;AACrChB,cAAM,CAAC,KAAKD,KAAL,CAAWC;AADmB,OAAd,C;;;;wCAIL,CAAE;;;+BAEXW,I,EAAM;AAAA;;AAEf,aACE;AAAA;AAAA,UAAM,WAAU,mBAAhB,EAAoC,KAAKA,KAAKR,KAA9C,EAAqD,iBAAiB;AAAA,mBAAM,OAAKP,mBAAL,CAAyBe,IAAzB,CAAN;AAAA,WAAtE,EAA4G,OAAO,KAAKN,MAAL,CAAYC,IAA/H;AACGK,aAAKT;AADR,OADF;AAKD;;;6BAEQ;AAAA;;AAEP,UAAMqB,SAAS,KAAKxB,KAAL,CAAWE,MAAX,CAAkBY,GAAlB,CAAsB,UAACO,MAAD,EAASH,CAAT;AAAA,eAAeG,OAAOF,KAAP,CAAaL,GAAb,CAAiB,UAACW,SAAD,EAAYH,CAAZ;AAAA,iBAAkB,gDAAU,KAAKA,CAAf,EAAkB,aAAaG,UAAUtB,IAAzC,EAA+C,YAAY;AAAA,qBAAM,OAAKL,aAAL,CAAmB2B,SAAnB,EAA8BP,CAA9B,EAAiCI,CAAjC,CAAN;AAAA,aAA3D,EAAsG,UAAU,oDAAhH,GAAlB;AAAA,SAAjB,CAAf;AAAA,OAAtB,CAAf;AACA,UAAMI,YAAY,KAAK1B,KAAL,CAAWE,MAAX,CAAkBY,GAAlB,CAAsB,UAACO,MAAD,EAASH,CAAT;AAAA,eAAe,gDAAU,KAAKA,CAAf,EAAkB,aAAaM,OAAON,CAAP,CAA/B,EAA0C,aAAaG,OAAOM,QAA9D,EAAwE,eAAe,IAAvF,EAA6F,0BAA0B,IAAvH,GAAf;AAAA,OAAtB,CAAlB;;AAEA,aACE;AAAC,eAAD;AAAA;AACE;AAAA;AAAA,YAAK,WAAU,gCAAf;AACE;AAAA;AAAA,cAAsB,YAAY,KAAK5B,gBAAvC;AACE;AADF;AADF,SADF;AAME;AAAA;AAAA,YAAQ,MAAM,KAAKC,KAAL,CAAWC,IAAzB;AACE,mDADF;AAEE,mDAFF;AAGE,mDAHF;AAIE,mDAJF;AAKE,kEAAc,OAAM,iBAApB,EAAmC,YAAY,KAAKF,gBAApD,EAAsE,MAAM,gEAA5E,EAA4F,WAAW,IAAvG,EAA6G,eAAc,OAA3H,GALF;AAME;AAAA;AAAA;AACE;AAAA;AAAA;AAAA;AAAA,aADF;AAEE;AAAA;AAAA,gBAAK,OAAO,KAAKO,MAAL,CAAYG,OAAxB;AACG,mBAAKT,KAAL,CAAWK,QAAX,CAAoBS,GAApB,CAAwB,KAAKc,UAA7B,EAAyC,IAAzC;AADH,aAFF;AAKGF;AALH;AANF;AANF,OADF;AAuBD;;;;EA3J0B,gBAAMG,S;;eA8JpBlC,c;;;;;;;;;gCAxKTF,O;;gCAUAE,c","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport Carousel from 'react-slick'\nimport {Grid, Row, Col} from 'react-flexbox-grid'\nimport {\n  Card,\n  CardActions,\n  CardHeader,\n  CardMedia,\n  CardTitle,\n  CardText\n} from 'material-ui/Card';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FloatingActionButton from 'material-ui/FloatingActionButton';\nimport Menu from 'material-ui/svg-icons/navigation/menu';\n\nimport ArrowBack from 'material-ui/svg-icons/hardware/keyboard-arrow-left';\nimport ArrowForward from 'material-ui/svg-icons/hardware/keyboard-arrow-right';\n\nimport Drawer from 'material-ui/Drawer';\nimport Chip from 'material-ui/Chip';\n\nimport ContentFilter from 'material-ui/svg-icons/content/filter-list';\n\nimport {List, ListItem} from 'material-ui/List';\nimport ActionGrade from 'material-ui/svg-icons/action/grade';\nimport Subheader from 'material-ui/Subheader';\nimport _ from 'lodash';\n\nimport {Link} from 'components';\n\nconst Wrapper = styled.div `\n\n  .btnFilters{\n    position: fixed;\n    left: 15px;\n    bottom: 15px;\n    z-index: 10;\n  }\n\n`\nclass FileSearchMenu extends React.Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      open: false,\n      schema: [\n        {\n          'category': 'Grupos Biológicos',\n          'items': [\n            {\n              name: 'Anfibios',\n              value: 1634\n            }, {\n              name: 'Aves',\n              value: 2755\n            }, {\n              name: 'Hongos',\n              value: 3345\n            }, {\n              name: 'Insectos',\n              value: 4355\n            }, {\n              name: 'Mamíferos',\n              value: 5674\n            }, {\n              name: 'Peces',\n              value: 6325\n            }, {\n              name: 'Plantas',\n              value: 73577\n            }, {\n              name: 'Reptiles',\n              value: 8455\n            }\n          ]\n        }, {\n          'category': 'Departamentos',\n          'items': [\n            {\n              name: 'Cundinamarca',\n              value: 1832\n            }, {\n              name: 'Boyacá',\n              value: 2124\n            }\n          ]\n        }, {\n          'category': 'Ecosistemas',\n          'items': [\n            {\n              name: 'Bosque tropical',\n              value: 135565\n            }, {\n              name: 'Desierto',\n              value: 2456\n            }, {\n              name: 'Bosque seco',\n              value: 33466\n            }, {\n              name: 'Páramo',\n              value: 46225\n            }, {\n              name: 'Bosque de niebla',\n              value: 51123\n            }, {\n              name: 'Humedales',\n              value: 665433\n            }\n          ]\n        }\n      ],\n      chipData: []\n    };\n\n    this.styles = {\n      chip: {\n        margin: 4\n      },\n      wrapper: {\n        display: 'flex',\n        flexWrap: 'wrap'\n      }\n    };\n  }\n\n  handleRequestDelete = (data) => {\n    // console.log(data);\n    //Chip\n    this.chipData = this.state.chipData;\n    const chipToDelete = this.chipData.map((chip) => chip.value).indexOf(data.value);\n    this.chipData.splice(chipToDelete, 1);\n    this.setState({chipData: this.chipData});\n    //schema update\n    this.schema = this.state.schema;\n    this.schema[data.i].items.unshift(data);\n    this.setState({schema: this.schema});\n  };\n\n  handleAddChip = (record, i, j) => {\n    //Chip\n    this.chipData = this.state.chipData;\n    record.i = i;\n    record.j = j;\n    this.chipData.push(record);\n    this.setState({chipData: this.chipData});\n    //schema update\n    this.schema = this.state.schema;\n    this.schema[i].items.splice(j, 1);\n    this.setState({schema: this.schema});\n  };\n\n  handleToggleMenu = () => this.setState({\n    open: !this.state.open\n  });\n\n  componentDidMount() {}\n\n  renderChip(data) {\n\n    return (\n      <Chip className=\"animated fadeInUp\" key={data.value} onRequestDelete={() => this.handleRequestDelete(data)} style={this.styles.chip}>\n        {data.name}\n      </Chip>\n    );\n  }\n\n  render() {\n\n    const subcat = this.state.schema.map((record, i) => record.items.map((subrecord, j) => <ListItem key={j} primaryText={subrecord.name} onTouchTap={() => this.handleAddChip(subrecord, i, j)} leftIcon={< ActionGrade />}/>));\n    const listItems = this.state.schema.map((record, i) => <ListItem key={i} nestedItems={subcat[i]} primaryText={record.category} initiallyOpen={true} primaryTogglesNestedList={true}/>);\n\n    return (\n      <Wrapper>\n        <div className=\"btnFilters animated fadeInLeft\">\n          <FloatingActionButton onTouchTap={this.handleToggleMenu}>\n            <Menu/>\n          </FloatingActionButton>\n        </div>\n        <Drawer open={this.state.open}>\n          <br/>\n          <br/>\n          <br/>\n          <br/>\n          <RaisedButton label=\"Ocultar Menú\" onTouchTap={this.handleToggleMenu} icon={< ArrowBack />} fullWidth={true} labelPosition=\"after\"/>\n          <List>\n            <Subheader>Filtros activos</Subheader>\n            <div style={this.styles.wrapper}>\n              {this.state.chipData.map(this.renderChip, this)}\n            </div>\n            {listItems}\n          </List>\n        </Drawer>\n      </Wrapper>\n    )\n  }\n}\n\nexport default FileSearchMenu\n"]}