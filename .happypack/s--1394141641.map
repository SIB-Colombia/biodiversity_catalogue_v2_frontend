{"version":3,"sources":["src/components/organisms/Header/index.js"],"names":["Wrapper","nav","Title","div","TitleMain","TitleSub","Header","props","handleOpen","handleClose","handleSearch","state","user","open","then","setState","console","log","actions","customContentStyle","width","maxWidth","filter","Component"],"mappings":"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","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport {IconLink, Link, HeaderSearchAdvance, HeaderUserMenu} from 'components';\nimport {Grid, Row, Col} from 'react-flexbox-grid';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport FontIcon from 'material-ui/FontIcon';\nimport TextField from 'material-ui/TextField';\nimport Paper from 'material-ui/Paper';\nimport Tune from 'material-ui/svg-icons/image/tune';\nimport Search from 'material-ui/svg-icons/action/search';\nimport {size, palette} from 'styled-theme';\n// import {me, isAuthenticated} from '../../../auth';\nimport {me, isAuthenticated} from '../../../auth';\n\nconst Wrapper = styled.nav `\nposition:fixed;\ntop:0%;\nwidth:100%;\nbackground: red !important;\nz-index: 10 !important;\n.box-nav-search-content{\n\ttext-align: center;\n\tpadding: 6px 0px;\n\t@media ${size('xs')}{\n\t\tdisplay: none;\n\t}\n\t.box-search-color{\n\t\tbackground: ${palette('grayscale', 1)};\n\n\t}\n\t.box-nav-advance{\n\t  cursor: pointer;\n\t  &:hover{\n\t    opacity: 0.5;\n\t  }\n\t}\n\t.box-nav-search{\n\t  padding:2px;\n\t}\n\t.box-nav-icon{\n\t  padding-top: 13px;\n\t}\n\n}\nsvg{\n\tcolor: ${palette('grayscale', 3)} !important;\n}\n.box-logo{\n\t@media ${size('xs')}{\n\t\ttext-align: center;\n\t}\n}\n.box-link{\n\ttext-align:right;\n\ta {\n\t\theight:100% !important;\n\t\tline-height: 4 !important;\n\t}\n\t@media ${size('xs')}{\n\t\tdisplay: none;\n\t}\n}\n.brand-logo {\n\tdisplay: inline-block;\n\tfont-size: 2.1rem;\n\tpadding: 0;\n\twhite-space: nowrap;\n\tmargin-top: 7px;\n}\n`\n\nconst Title = styled.div `\ndisplay:inline-block;\nvertical-align: middle;\ncolor: ${palette('grayscale', 5)};\n`\nconst TitleMain = styled.div `\nfont-size:14px;\ntext-transform: uppercase;\nmargin-top: -5px;\nline-height: 1;\nb{\n\tmargin-right: 2px;\n}\n`\nconst TitleSub = styled.div `\nfont-size:14px;\ntext-transform: uppercase;\nline-height:1;\n`\n\n//Get user from Redis [Once time], this module remember promise\n\n// const getMe = me();\n\nclass Header extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      open: false\n    }\n  }\n\n  componentWillMount() {\n    /*getMe.then(data => {\n      //console.log('res me',data);\n      if (data) {\n        console.log('user logged->', data);\n        // this.setState({user: isAuthenticated()});\n      } else {\n        console.log('user not login :(');\n      }\n    })*/\n\n    isAuthenticated().then(user => {\n      // console.log('u', user);\n      this.setState({user: user});\n    })\n\n  }\n\n  handleOpen = () => {\n    this.setState({open: true});\n  };\n\n  handleClose = () => {\n    this.setState({open: false});\n  };\n\n  handleSearch = () => {\n    console.log('buscar');\n  };\n\n  render() {\n\n    const actions = [ < FlatButton label = \"Cancelar\" primary = {\n        true\n      }\n      onTouchTap = {\n        this.handleClose\n      } />, < Link to = \"/file/search\" > < RaisedButton label = \"Buscar\" className = \"btn-secondary-modal\" onTouchTap = {\n        this.handleSearch\n      } /> </Link>\n    ];\n\n    const customContentStyle = {\n      width: '90%',\n      maxWidth: 'none'\n    };\n\n    return (\n      <Wrapper>\n        <Paper>\n          <Grid fluid>\n            <Row>\n              <Col xs={12} sm={3} md={3} lg={3} className=\"box-logo\">\n                {this.props.filter}\n                <IconLink to=\"/\" icon=\"catalogo\" className=\"brand-logo\">\n                  <Title>\n                    <TitleMain>\n                      <b>Catálogo</b>\n                      de\n                    </TitleMain>\n                    <TitleSub>\n                      la Biodiversidad\n                    </TitleSub>\n                  </Title>\n                </IconLink>\n              </Col>\n              <Col xs={12} sm={5} md={6} lg={6} className=\"box-nav-search-content\">\n                <div className=\"box-search-color\">\n                  <Row>\n                    <Col xs={1} sm={2} md={2} lg={1} className=\"box-nav-icon\">\n                      <Search/>\n                    </Col>\n                    <Col xs={10} sm={8} md={8} lg={10} className=\"box-nav-search\">\n                      <TextField hintText=\"Buscar...\" fullWidth={true}/>\n                    </Col>\n                    <Col xs={1} sm={1} md={2} lg={1} className=\"box-nav-icon\">\n                      <a onTouchTap={this.handleOpen} className=\"box-nav-advance\">\n                        <Tune/>\n                      </a>\n                    </Col>\n                  </Row>\n                </div>\n              </Col>\n              {!this.state.user && <Col xs={12} sm={4} md={3} lg={3} className=\"box-link\">\n                <Link to=\"/login/signup\" activeClassName=\"active\">\n                  <FlatButton label=\"Registrarse\"/>\n                </Link>\n                <Link to=\"/login/signin\" activeClassName=\"active\">\n                  <FlatButton label=\"Ingresar\"/>\n                </Link>\n              </Col>}\n              {this.state.user && <Col xs={12} sm={4} md={3} lg={3} className=\"box-link\">\n                <HeaderUserMenu/>\n              </Col>}\n            </Row>\n          </Grid>\n          <Dialog titleClassName=\"modal-header-style\" title=\"Búsqueda avanzada\" contentStyle={customContentStyle} actions={actions} modal={false} open={this.state.open} onRequestClose={this.handleClose} autoScrollBodyContent={true}>\n            <HeaderSearchAdvance/>\n          </Dialog>\n        </Paper>\n      </Wrapper>\n    )\n  }\n}\n\nexport default Header;\n"]}