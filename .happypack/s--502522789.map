{"version":3,"sources":["src/components/pages/LoginSigninPage/index.js"],"names":["LoginSigninPage","props","state","username","password","error","then","data","token","window","location","href","setState","message","event","key","target","getAttribute","obj","value","e","update","login","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;IAEMA,e;;;AAEJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,gBAAU,EADC;AAEXC,gBAAU,EAFC;AAGXC,aAAO;AAHI,KAAb;AAFiB;AAOlB;;;;wCAEmB,CAAE;;;yCAED,CAAE;;;4BAEf;AAAA;;AACN,wBAAO,KAAKH,KAAZ,EAAmBI,IAAnB,CAAwB,gBAAQ;AAC9B,YAAIC,KAAKC,KAAT,EAAgB;AACdC,iBAAOC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,SAFD,MAEO;AACL,iBAAKC,QAAL,CAAc,EAACP,OAAOE,KAAKM,OAAb,EAAd;AACD;AACF,OAND;AAOD;;;2BAEMC,K,EAAO;AACZ,UAAIC,MAAMD,MAAME,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAV;AACA,UAAIC,MAAM,EAAV;AACAA,UAAIH,GAAJ,IAAWD,MAAME,MAAN,CAAaG,KAAxB;AACA,WAAKP,QAAL,CAAcM,GAAd;AACA,WAAKN,QAAL,CAAc,EAACP,OAAO,EAAR,EAAd;AACD;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAc,QAAQ,uDAAtB,EAAmC,QAAQ,uDAA3C,EAAwD,WAAU,OAAlE;AACE,iEAAa,MAAM,KAAKH,KAAxB,EAA+B,QAAQ,gBAACkB,CAAD;AAAA,mBAAO,OAAKC,MAAL,CAAYD,CAAZ,CAAP;AAAA,WAAvC,EAA8D,SAAS;AAAA,mBAAM,OAAKE,KAAL,EAAN;AAAA,WAAvE;AADF,OADF;AAKD;;;;EAvC2B,gBAAMC,S;;eA0CrBvB,e;;;;;;;;;gCA1CTA,e","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react';\nimport {PageTemplate, Header, Footer, LoginSignin} from 'components';\nimport Snackbar from 'material-ui/Snackbar';\nimport {signin} from '../../../auth';\n\nclass LoginSigninPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      error: ''\n    }\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {}\n\n  login() {\n    signin(this.state).then(data => {\n      if (data.token) {\n        window.location.href = '/';\n      } else {\n        this.setState({error: data.message});\n      }\n    });\n  }\n\n  update(event) {\n    var key = event.target.getAttribute(\"name\");\n    var obj = {};\n    obj[key] = event.target.value;\n    this.setState(obj);\n    this.setState({error: ''});\n  }\n\n  render() {\n    return (\n      <PageTemplate header={< Header />} footer={< Footer />} wallpaper='Login'>\n        <LoginSignin form={this.state} update={(e) => this.update(e)} trigger={() => this.login()}/>\n      </PageTemplate>\n    )\n  }\n}\n\nexport default LoginSigninPage;\n"]}