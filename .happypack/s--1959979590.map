{"version":3,"sources":["src/components/pages/FilePage/index.js"],"names":["Wrapper","div","FilePage","props","state","id","params","fileId","summary","files","info","schema","reference","ancillaryData","window","scrollTo","options","method","fetch","server","then","response","json","data","setState","detail","Component"],"mappings":"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","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport config from '../../config'\n\nimport {\n  PageTemplate,\n  Header,\n  Footer,\n  FileSummary,\n  FileDetail,\n  FileImage,\n  FileList\n} from 'components'\n\nimport {Tabs, Tab, Row, Col, ProgressBar} from 'react-materialize';\n\nconst Wrapper = styled.div `\nbackground:#ffffff !important;\nz-index:1 !important;\n.tabs{\n\tbackground:#00838f;\n}\n.tabs .tab a{\n\tcolor :white;\n}\n.main-title{\n\tmargin: 10px 0px 30px 0px;\n}\n.background-section{\n}\n`\n\nclass FilePage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: this.props.params.fileId,\n      summary: false,\n      files: [],\n      // detail\n      info: false,\n      schema: false,\n      // associatedParty: false,\n      reference: false,\n      ancillaryData: false\n    }\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  componentWillMount() {\n    var options = {\n      method: 'GET',\n      // mode: 'cors',\n      // headers: new Headers({\n      // 'Authorization': 'bearer example'\n      // })\n    };\n\n    // fetch(`${config.server}/api/hello/home`, options).then((response) => {\n    //   return response.json()\n    // }).then((data) => {\n    //   this.setState({files: data})\n    // })\n\n    fetch(`${config.server}/api/file/summary/${this.state.id}`, options).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({summary: data})\n    })\n\n    fetch(`${config.server}/api/file/detail/${this.state.id}`, options).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({'detail': data})\n    })\n\n    /*get Schemas and Data */\n\n    fetch(`${config.server}/api/reference/show/${this.state.id}`).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({'reference': data})\n    })\n\n    fetch(`${config.server}/api/ancillaryData/show/${this.state.id}`).then((response) => {\n      return response.json()\n    }).then((data) => {\n      this.setState({'ancillaryData': data})\n    })\n\n  }\n\n  render() {\n\n    return (\n      <PageTemplate header={< Header />} footer={< Footer />}>\n        <br/>\n        <Wrapper className=\"container\">\n          <div className=\"card-panel\">\n            <h3 className=\"cyan-text text-darken-4 main-title\">Coragyps atratus</h3>\n            <Tabs className='tab-demo z-depth-1'>\n              <Tab title=\"Resumen\" active>\n                {this.state.summary\n                  ? <FileSummary data={this.state.summary}/>\n                  : <div className=\"center-align\">Cargando resumen....\n                    <ProgressBar/></div>}\n              </Tab>\n              <Tab title=\"Detalles\">\n                {this.state.detail && this.state.reference && this.state.ancillaryData\n                  ? <FileDetail data={this.state.detail} reference={this.state.reference} ancillaryData={this.state.ancillaryData}/>\n                  : <div className=\"center-align\">Cargando detalle....\n                    <ProgressBar/></div>}\n                {/* {this.state.detail && this.state.schema && this.state.reference.length > 0 && this.state.ancillaryData.length > 0\n                  ? <FileDetail data={this.state.detail} schema={this.state.schema} data-reference={this.state.reference} data-ancillaryData={this.state.ancillaryData}/>\n                  : <div className=\"center-align\">Cargando detalle....\n                    <ProgressBar/></div>} */}\n              </Tab>\n              <Tab title=\"ImÃ¡genes\">\n                <FileImage/>\n              </Tab>\n              <Tab title=\"Mapas\"></Tab>\n              <Tab title=\"Comunidad\"></Tab>\n              <Tab title=\"Comentarios\"></Tab>\n            </Tabs>\n          </div>\n        </Wrapper>\n      </PageTemplate>\n    )\n  }\n}\n\nexport default FilePage;\n//{ this.state.files.length > 0 ? <FileList data={this.state.files} /> : <div>ergergergergerg</div> }\n//{this.state.viewDetail ? (this.state.files ? <FileList data={this.state.files} /> : null) : null}\n"]}