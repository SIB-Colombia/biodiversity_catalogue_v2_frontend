{"version":3,"sources":["src/components/pages/LoginSignupPage/index.js"],"names":["LoginSignupPage","props","handleOpen","handleClose","state","name","lastname","username","email","pass","passverify","error","register","then","data","status","setState","message","event","key","target","getAttribute","obj","value","actions","e","update","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AAQA;;AACA;;;;AACA;;;;;;;;;;;;IAEMA,e;;;AAEJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAAA,UAkDnBC,UAlDmB;AAAA;AAAA;;AAAA,UAsDnBC,WAtDmB;AAAA;AAAA;;AAEjB,UAAKC,KAAL,GAAa;AACXC,YAAM,EADK;AAEXC,gBAAU,EAFC;AAGXC,gBAAU,EAHC;AAIXC,aAAO,EAJI;AAKXC,YAAM,EALK;AAMXC,kBAAY,EAND;AAOXC,aAAO,EAPI;AAQXC,gBAAU;AARC,KAAb;AAFiB;AAYlB;;;;wCAEmB,CAAE;;;yCAED,CAAE;;;+BAEZ;AAAA;;AACT,wBAAO,KAAKR,KAAZ,EAAmBS,IAAnB,CAAwB,gBAAQ;AAC9B,YAAIC,KAAKC,MAAT,EAAiB;AACf,iBAAKC,QAAL,CAAc;AACZX,kBAAM,EADM;AAEZC,sBAAU,EAFE;AAGZC,sBAAU,EAHE;AAIZC,mBAAO,EAJK;AAKZC,kBAAM,EALM;AAMZC,wBAAY,EANA;AAOZC,mBAAO,EAPK;AAQZC,sBAAU;AARE,WAAd;AAUD,SAXD,MAWO;AACL,iBAAKI,QAAL,CAAc,EAACL,OAAOG,KAAKG,OAAb,EAAd;AACD;AACF,OAfD;AAgBD;;;2BAEMC,K,EAAO;AACZ,UAAIC,MAAMD,MAAME,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAV;AACA,UAAIC,MAAM,EAAV;AACAA,UAAIH,GAAJ,IAAWD,MAAME,MAAN,CAAaG,KAAxB;AACA,WAAKP,QAAL,CAAcM,GAAd;AACA,WAAKN,QAAL,CAAc,EAACL,OAAO,EAAR,EAAd;AACA;AACA;AACA;AACA;AACA;AACD;;;uDAEkB;AACjB,WAAKK,QAAL,CAAc,EAACJ,UAAU,KAAX,EAAd;AACD;;;wDAEmB;AAClB,WAAKI,QAAL,CAAc,EAACJ,UAAU,KAAX,EAAd;AACD;;;6BAEQ;AAAA;;AAEP,UAAMY,UAAU,CAAE,sDAAa,OAAQ,UAArB,EAAgC,SAC9C,IADc;AAGhB,oBACE,KAAKrB,WAJS,GAAF,EAKR;AAAA;AAAA,UAAO,IACX,eADI;AAAA;AAEF,8DAAa,OAAQ,mBAArB,EAAsC,WAAY,eAAlD,EAAkE,YACpE,KAAKA,WADH;AAFE,OALQ,CAAhB;AAWA,aACE;AAAA;AAAA,UAAc,QAAQ,uDAAtB;AAEF,kBAAW,uDAFT;AAIF,qBAAY,OAJV;AAAA;AAIoB;AAAA;AAAA,YAAQ,SAASqB,OAAjB,EAA0B,OAAO,KAAjC,EAAwC,MAAM,KAAKpB,KAAL,CAAWQ,QAAzD,EAAmE,gBAAgB,KAAKT,WAAxF;AACpB;AAAA;AAAA,cAAc,OAAM,QAApB,EAA6B,OAAM,aAAnC,EAAiD,MAAK,IAAtD;AAAA;AAAA,WADoB;AAEpB;AAAA;AAAA,cAAc,OAAM,QAApB,EAA6B,OAAM,2BAAnC;AAAA;AAAA;AAFoB,SAJpB;AAAA;AAOQ,iEAAc,MACtB,KAAKC,KADG;AAGV,kBACE,gBAACqB,CAAD;AAAA,mBAAO,OAAKC,MAAL,CAAYD,CAAZ,CAAP;AAAA,WAJQ;AAMV,mBACE;AAAA,mBAAM,OAAKb,QAAL,EAAN;AAAA,WAPQ,GAPR;AAAA;AAAA,OADF;AAiBD;;;;EA1F2B,gBAAMe,S;;eA6FrB3B,e;;;;;;;;;gCA7FTA,e","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react';\nimport {\n  Link,\n  PageTemplate,\n  Header,\n  Footer,\n  LoginSignup,\n  TitleSection\n} from 'components';\nimport {signup} from '../../../auth';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\n\nclass LoginSignupPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      lastname: '',\n      username: '',\n      email: '',\n      pass: '',\n      passverify: '',\n      error: '',\n      register: false\n    }\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {}\n\n  register() {\n    signup(this.state).then(data => {\n      if (data.status) {\n        this.setState({\n          name: '',\n          lastname: '',\n          username: '',\n          email: '',\n          pass: '',\n          passverify: '',\n          error: '',\n          register: true\n        });\n      } else {\n        this.setState({error: data.message});\n      }\n    });\n  }\n\n  update(event) {\n    var key = event.target.getAttribute(\"name\");\n    var obj = {};\n    obj[key] = event.target.value;\n    this.setState(obj);\n    this.setState({error: ''});\n    // if (this.state.pass != this.state.passverify) {\n    //   this.setState({error: 'Las contraseñas no coinciden!'});\n    // }else {\n    //   this.setState({error: ''});\n    // }\n  }\n\n  handleOpen = () => {\n    this.setState({register: false});\n  };\n\n  handleClose = () => {\n    this.setState({register: false});\n  };\n\n  render() {\n\n    const actions = [ < FlatButton label = \"Cancelar\" primary = {\n        true\n      }\n      onTouchTap = {\n        this.handleClose\n      } />, < Link to = {\n        '/login/signin'\n      } > < FlatButton label = \"Iniciar Sesión\" className = \"btn-secondary\" onTouchTap = {\n        this.handleClose\n      } />< /Link>\n    ];\n    return (\n      <PageTemplate header={< Header / >\n    }\n    footer = { < Footer />\n    }\n    wallpaper = 'Login' > <Dialog actions={actions} modal={false} open={this.state.register} onRequestClose={this.handleClose}>\n      <TitleSection align=\"center\" color=\"basescale-2\" size=\"sm\">Registrado correctamente!</TitleSection>\n      <TitleSection align=\"center\" color=\"grayscale-5 padding-top-2\">Ahora puede iniciar sesión</TitleSection>\n    </Dialog> < LoginSignup form = {\n      this.state\n    }\n    update = {\n      (e) => this.update(e)\n    }\n    trigger = {\n      () => this.register()\n    } /> </PageTemplate>)\n  }\n}\n\nexport default LoginSignupPage;\n"]}