{"version":3,"sources":["src/components/molecules/Gallery/index.js"],"names":["Gallery","state","lightboxIsOpen","currentImage","closeLightbox","bind","gotoNext","gotoPrevious","gotoImage","handleClickImage","openLightbox","index","event","preventDefault","setState","props","images","length","gallery","filter","i","src","map","obj","e","thumbnail","classes","heading","subheading","renderGallery","showThumbnails","theme","displayName","propTypes","string","array","bool","gutter","small","large","create","marginRight","overflow","boxSizing","display","float","lineHeight","paddingRight","paddingBottom","landscape","width","square","source","border","height","maxWidth"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;IAEMA,O;;;AACJ,qBAAc;AAAA;;AAAA;;AAGZ,UAAKC,KAAL,GAAa;AACXC,sBAAgB,KADL;AAEXC,oBAAc;AAFH,KAAb;;AAKA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,OAArB;AACA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,OAAhB;AACA,UAAKE,YAAL,GAAoB,MAAKA,YAAL,CAAkBF,IAAlB,OAApB;AACA,UAAKG,SAAL,GAAiB,MAAKA,SAAL,CAAeH,IAAf,OAAjB;AACA,UAAKI,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBJ,IAAtB,OAAxB;AACA,UAAKK,YAAL,GAAoB,MAAKA,YAAL,CAAkBL,IAAlB,OAApB;AAbY;AAcb;;;;iCACYM,K,EAAOC,K,EAAO;AACzBA,YAAMC,cAAN;AACA,WAAKC,QAAL,CAAc,EAACX,cAAcQ,KAAf,EAAsBT,gBAAgB,IAAtC,EAAd;AACD;;;oCACe;AACd,WAAKY,QAAL,CAAc,EAACX,cAAc,CAAf,EAAkBD,gBAAgB,KAAlC,EAAd;AACD;;;mCACc;AACb,WAAKY,QAAL,CAAc;AACZX,sBAAc,KAAKF,KAAL,CAAWE,YAAX,GAA0B;AAD5B,OAAd;AAGD;;;+BACU;AACT,WAAKW,QAAL,CAAc;AACZX,sBAAc,KAAKF,KAAL,CAAWE,YAAX,GAA0B;AAD5B,OAAd;AAGD;;;8BACSQ,K,EAAO;AACf,WAAKG,QAAL,CAAc,EAACX,cAAcQ,KAAf,EAAd;AACD;;;uCACkB;AACjB,UAAI,KAAKV,KAAL,CAAWE,YAAX,KAA4B,KAAKY,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,GAA2B,CAA3D,EACE;;AAEF,WAAKX,QAAL;AACD;;;oCACe;AAAA;;AAAA,UACPU,MADO,GACG,KAAKD,KADR,CACPC,MADO;;;AAGd,UAAI,CAACA,MAAL,EACE;;AAEF,UAAME,UAAUF,OAAOG,MAAP,CAAc;AAAA,eAAKC,EAAEC,GAAP;AAAA,OAAd,EAA0BC,GAA1B,CAA8B,UAACC,GAAD,EAAMH,CAAN,EAAY;AACxD,eACE;AAAA;AAAA,YAAK,IAAI,EAAT,EAAa,IAAI,CAAjB,EAAoB,KAAKA,CAAzB;AACE;AAAA;AAAA,cAAG,MAAMG,IAAIF,GAAb,EAAkB,SAAS,iBAACG,CAAD;AAAA,uBAAO,OAAKd,YAAL,CAAkBU,CAAlB,EAAqBI,CAArB,CAAP;AAAA,eAA3B;AACE,mDAAK,KAAKD,IAAIE,SAAd;AADF;AADF,SADF;AAOD,OARe,CAAhB;;AAUA,aACE;AAAA;AAAA,UAAK,WAAW,sBAAIC,QAAQR,OAAZ,CAAhB;AACGA;AADH,OADF;AAKD;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,SAAf;AACG,aAAKH,KAAL,CAAWY,OAAX,IAAsB;AAAA;AAAA;AAAK,eAAKZ,KAAL,CAAWY;AAAhB,SADzB;AAEG,aAAKZ,KAAL,CAAWa,UAAX,IAAyB;AAAA;AAAA;AAAI,eAAKb,KAAL,CAAWa;AAAf,SAF5B;AAGE;AAAA;AAAA;AACE;AAAA;AAAA;AACG,iBAAKC,aAAL;AADH;AADF,SAHF;AAQE,+DAAU,cAAc,KAAK5B,KAAL,CAAWE,YAAnC,EAAiD,QAAQ,KAAKY,KAAL,CAAWC,MAApE,EAA4E,QAAQ,KAAKf,KAAL,CAAWC,cAA/F,EAA+G,cAAc,KAAKO,gBAAlI,EAAoJ,aAAa,KAAKH,QAAtK,EAAgL,aAAa,KAAKC,YAAlM,EAAgN,kBAAkB,KAAKC,SAAvO,EAAkP,SAAS,KAAKJ,aAAhQ,EAA+Q,gBAAgB,KAAKW,KAAL,CAAWe,cAA1S,EAA0T,OAAO,KAAKf,KAAL,CAAWgB,KAA5U;AARF,OADF;AAYD;;;;;;AACF;;AAED/B,QAAQgC,WAAR,GAAsB,SAAtB;;AAEAhC,QAAQiC,SAAR,GAAoB;AAClBN,WAAS,iBAAUO,MADD;AAElBlB,UAAQ,iBAAUmB,KAFA;AAGlBL,kBAAgB,iBAAUM,IAHR;AAIlBR,cAAY,iBAAUM;AAJJ,CAApB;;AAOA,IAAMG,SAAS;AACbC,SAAO,CADM;AAEbC,SAAO;AAFM,CAAf;AAIA,IAAMb,UAAU,wBAAWc,MAAX,CAAkB;AAChCtB,WAAS;AACPuB,iBAAa,CAACJ,OAAOC,KADd;AAEPI,cAAU,QAFH;;AAIP,iCAA6B;AAC3BD,mBAAa,CAACJ,OAAOE;AADM;AAJtB,GADuB;;AAUhC;AACAd,aAAW;AACTkB,eAAW,YADF;AAETC,aAAS,OAFA;AAGTC,WAAO,MAHE;AAITC,gBAAY,CAJH;AAKTC,kBAAcV,OAAOC,KALZ;AAMTU,mBAAeX,OAAOC,KANb;AAOTI,cAAU,QAPD;;AAST,iCAA6B;AAC3BK,oBAAcV,OAAOE,KADM;AAE3BS,qBAAeX,OAAOE;AAFK;AATpB,GAXqB;;AA0BhC;AACAU,aAAW;AACTC,WAAO;AADE,GA3BqB;AA8BhCC,UAAQ;AACNH,mBAAe,CADT;AAENE,WAAO,KAFD;;AAIN,iCAA6B;AAC3BF,qBAAe;AADY;AAJvB,GA9BwB;;AAuChC;AACAI,UAAQ;AACNC,YAAQ,CADF;AAENT,aAAS,OAFH;AAGNU,YAAQ,MAHF;AAINC,cAAU,MAJJ;AAKNL,WAAO;AALD;AAxCwB,CAAlB,CAAhB;;eAiDelD,O;;;;;;;;;gCA9ITA,O;;gCAyFAqC,M;;gCAIAX,O","file":"index.js","sourceRoot":"/home/leo/htdocs/bio","sourcesContent":["import React, {Component, PropTypes} from 'react';\nimport {css, StyleSheet} from 'aphrodite/no-important';\nimport Lightbox from 'react-images';\nimport {Grid, Row, Col} from 'react-flexbox-grid';\n\nclass Gallery extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      lightboxIsOpen: false,\n      currentImage: 0\n    };\n\n    this.closeLightbox = this.closeLightbox.bind(this);\n    this.gotoNext = this.gotoNext.bind(this);\n    this.gotoPrevious = this.gotoPrevious.bind(this);\n    this.gotoImage = this.gotoImage.bind(this);\n    this.handleClickImage = this.handleClickImage.bind(this);\n    this.openLightbox = this.openLightbox.bind(this);\n  }\n  openLightbox(index, event) {\n    event.preventDefault();\n    this.setState({currentImage: index, lightboxIsOpen: true});\n  }\n  closeLightbox() {\n    this.setState({currentImage: 0, lightboxIsOpen: false});\n  }\n  gotoPrevious() {\n    this.setState({\n      currentImage: this.state.currentImage - 1\n    });\n  }\n  gotoNext() {\n    this.setState({\n      currentImage: this.state.currentImage + 1\n    });\n  }\n  gotoImage(index) {\n    this.setState({currentImage: index});\n  }\n  handleClickImage() {\n    if (this.state.currentImage === this.props.images.length - 1)\n      return;\n\n    this.gotoNext();\n  }\n  renderGallery() {\n    const {images} = this.props;\n\n    if (!images)\n      return;\n\n    const gallery = images.filter(i => i.src).map((obj, i) => {\n      return (\n        <Col xs={12} lg={4} key={i} >\n          <a href={obj.src} onClick={(e) => this.openLightbox(i, e)}>\n            <img src={obj.thumbnail}/>\n          </a>\n        </Col>\n      );\n    });\n\n    return (\n      <div className={css(classes.gallery)}>\n        {gallery}\n      </div>\n    );\n  }\n  render() {\n    return (\n      <div className=\"section\">\n        {this.props.heading && <h2>{this.props.heading}</h2>}\n        {this.props.subheading && <p>{this.props.subheading}</p>}\n        <Grid>\n          <Row>\n            {this.renderGallery()}\n          </Row>\n        </Grid>\n        <Lightbox currentImage={this.state.currentImage} images={this.props.images} isOpen={this.state.lightboxIsOpen} onClickImage={this.handleClickImage} onClickNext={this.gotoNext} onClickPrev={this.gotoPrevious} onClickThumbnail={this.gotoImage} onClose={this.closeLightbox} showThumbnails={this.props.showThumbnails} theme={this.props.theme}/>\n      </div>\n    );\n  }\n};\n\nGallery.displayName = 'Gallery';\n\nGallery.propTypes = {\n  heading: PropTypes.string,\n  images: PropTypes.array,\n  showThumbnails: PropTypes.bool,\n  subheading: PropTypes.string\n};\n\nconst gutter = {\n  small: 2,\n  large: 4\n};\nconst classes = StyleSheet.create({\n  gallery: {\n    marginRight: -gutter.small,\n    overflow: 'hidden',\n\n    '@media (min-width: 500px)': {\n      marginRight: -gutter.large\n    }\n  },\n\n  // anchor\n  thumbnail: {\n    boxSizing: 'border-box',\n    display: 'block',\n    float: 'left',\n    lineHeight: 0,\n    paddingRight: gutter.small,\n    paddingBottom: gutter.small,\n    overflow: 'hidden',\n\n    '@media (min-width: 500px)': {\n      paddingRight: gutter.large,\n      paddingBottom: gutter.large\n    }\n  },\n\n  // orientation\n  landscape: {\n    width: '15%'\n  },\n  square: {\n    paddingBottom: 0,\n    width: '40%',\n\n    '@media (min-width: 500px)': {\n      paddingBottom: 0\n    }\n  },\n\n  // actual <img />\n  source: {\n    border: 0,\n    display: 'block',\n    height: 'auto',\n    maxWidth: '100%',\n    width: 'auto'\n  }\n});\n\nexport default Gallery;\n"]}