{"version":3,"sources":["src/components/pages/FileDetailPage/index.js"],"names":["FileService","FileDetailPage","props","state","id","fileComplete","files","setState","match","params","getFileComplete","then","complete","getLastUpdatedRecords","data","catch","console","log","err","nextProps","taxonRecordNameApprovedInUse","taxonRecordName","scientificName","canonicalName","simple","canonicalAuthorship","title","subtitle","length","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;AAYA;;IAAYA,W;;;;;;;;;;;;IAENC,c;;;AAEJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,UAAI,IADO;AAEXC,oBAAc,IAFH;AAGXC,aAAO;AAHI,KAAb;AAFiB;AAOlB;;;;wCAEmB,CAAE;;;yCAED;AAAA;;AAEnB,WAAKC,QAAL,CAAc,EAACH,IAAI,KAAKF,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBL,EAA7B,EAAd;;AAEAJ,kBAAYU,eAAZ,CAA4B,KAAKR,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBL,EAApD,EAAwDO,IAAxD,CAA6D,oBAAY;AACvE,eAAKJ,QAAL,CAAc,EAACF,cAAcO,QAAf,EAAd;AACD,OAFD;;AAIAZ,kBAAYa,qBAAZ,GAAoCF,IAApC,CAAyC,gBAAQ;AAC/C,eAAKJ,QAAL,CAAc,EAACD,OAAOQ,IAAR,EAAd;AACD,OAFD,EAEGC,KAFH,CAES,eAAO;AACdC,gBAAQC,GAAR,CAAYC,GAAZ;AACD,OAJD;AAKD;;;8CAEyBC,S,EAAW;AACnCH,cAAQC,GAAR,CAAY,KAAKf,KAAL,CAAWM,KAAX,CAAiBC,MAAjB,CAAwBL,EAApC;AACD;;;4BAEO;AACN,aAAO,KAAKD,KAAL,CAAWE,YAAX,CAAwBe,4BAAxB,CAAqDC,eAArD,CAAqEC,cAArE,CAAoFC,aAApF,CAAkGC,MAAzG;AACD;;;+BACU;AACT,aAAO,KAAKrB,KAAL,CAAWE,YAAX,CAAwBe,4BAAxB,CAAqDC,eAArD,CAAqEC,cAArE,CAAoFG,mBAApF,CAAwGD,MAA/G;AACD;;;6BAEQ;;AAEP,aACE;AAAA;AAAA,UAAc,QAAQ,uDAAtB,EAAmC,QAAQ,uDAA3C,EAAwD,WAAU,MAAlE;AACG,aAAKrB,KAAL,CAAWE,YAAX,IAA2B;AAAA;AAAA,YAAM,WAAU,WAAhB;AAC1B;AAAA;AAAA,cAAK,WAAU,iBAAf;AACE;AAAA;AAAA,gBAAK,IAAI,EAAT,EAAa,IAAI,EAAjB;AACE,sEAAY,OAAO,KAAKqB,KAAL,EAAnB,EAAiC,UAAU,KAAKC,QAAL,EAA3C,EAA4D,IAAI,KAAKxB,KAAL,CAAWC,EAA3E,EAA+E,QAAO,QAAtF,GADF;AAEE,sEAAY,UAAU,KAAKD,KAAL,CAAWE,YAAjC;AAFF;AADF;AAD0B,SAD9B;AASG,aAAKF,KAAL,CAAWG,KAAX,CAAiBsB,MAAjB,GAA0B,CAA1B,IAA+B,4DAAgB,IAAI,KAAKzB,KAAL,CAAWC,EAA/B,EAAmC,MAAM,KAAKD,KAAL,CAAWG,KAApD;AATlC,OADF;AAaD;;;;EAtD0B,gBAAMuB,S;;eAyDpB5B,c;;;;;;;;;gCAzDTA,c","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react';\nimport Paper from 'material-ui/Paper';\nimport {injectGlobal} from 'styled-components';\nimport {Grid, Row, Col} from 'react-flexbox-grid';\nimport SchemaForm from 'react-schema-form';\nimport {\n  PageTemplate,\n  Header,\n  Footer,\n  FileDetail,\n  FileCarousel,\n  FileComment,\n  FileHeader,\n  FileTab,\n  FileMostRecent\n} from 'components';\n\nimport * as FileService from '../../../services/FileService';\n\nclass FileDetailPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      fileComplete: null,\n      files: []\n    }\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {\n\n    this.setState({id: this.props.match.params.id})\n\n    FileService.getFileComplete(this.props.match.params.id).then(complete => {\n      this.setState({fileComplete: complete});\n    });\n\n    FileService.getLastUpdatedRecords().then(data => {\n      this.setState({files: data});\n    }).catch(err => {\n      console.log(err);\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    console.log(this.props.match.params.id);\n  }\n\n  title() {\n    return this.state.fileComplete.taxonRecordNameApprovedInUse.taxonRecordName.scientificName.canonicalName.simple;\n  }\n  subtitle() {\n    return this.state.fileComplete.taxonRecordNameApprovedInUse.taxonRecordName.scientificName.canonicalAuthorship.simple;\n  }\n\n  render() {\n\n    return (\n      <PageTemplate header={< Header />} footer={< Footer />} wallpaper='File'>\n        {this.state.fileComplete && <Grid className=\"container\" >\n          <Row className=\"animated fadeIn\">\n            <Col xs={12} lg={12}>\n              <FileHeader title={this.title()} subtitle={this.subtitle()} id={this.state.id} active=\"detail\"/>\n              <FileDetail complete={this.state.fileComplete}/>\n            </Col>\n          </Row>\n        </Grid>}\n        {this.state.files.length > 0 && <FileMostRecent id={this.state.id} data={this.state.files}/>}\n      </PageTemplate>\n    )\n  }\n}\n\nexport default FileDetailPage;\n"]}