{"version":3,"sources":["src/components/pages/FileSearch/index.js"],"names":["FileDetailPage","props","state","id","validationResult","schema","form","model","schemaJson","formJson","onModelChange","bind","onValidate","onFormChange","onSchemaChange","setState","params","key","val","console","log","newModel","selectOrSet","result","validateBySchema","f","JSON","parse","e","s","mapper","stringify","undefined","Component"],"mappings":"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","file":"index.js","sourceRoot":"/home/leo/htdocs/bio","sourcesContent":["import React, {PropTypes} from 'react';\nimport config from '../../config';\n// import fetch from 'isomorphic-fetch';\nimport Paper from 'material-ui/Paper';\nimport {Grid, Row, Col} from 'react-flexbox-grid';\nimport RaisedButton from 'material-ui/RaisedButton';\n\nimport {SchemaForm, utils} from 'react-schema-form';\nimport RcSelect from 'react-schema-form-rc-select/lib/RcSelect';\n\nimport {PageTemplate, Header, Footer} from 'components';\n\nclass FileDetailPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: null,\n      validationResult: {},\n      schema: {},\n      form: [],\n      model: {},\n      schemaJson: '',\n      formJson: ''\n    }\n    this.onModelChange = this.onModelChange.bind(this);\n    this.onValidate = this.onValidate.bind(this);\n    this.onFormChange = this.onFormChange.bind(this);\n    this.onSchemaChange = this.onSchemaChange.bind(this);\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {\n\n    this.setState({id: this.props.params.id})\n\n    this.setState({\n      \"schema\": {\n        \"type\": \"object\",\n        \"title\": \"Comment\",\n        \"properties\": {\n          \"name\": {\n            \"title\": \"Nombre\",\n            \"type\": \"string\",\n            \"default\": \"Leonardo R\"\n          },\n          \"email\": {\n            \"title\": \"Email\",\n            \"type\": \"string\",\n            \"pattern\": \"^\\\\S+@\\\\S+$\",\n            \"validationMessage\": \"Email must be of proper format: example@example\",\n            \"description\": \"Email will be used for evil.\"\n          },\n          \"environment\": {\n            \"type\": \"string\",\n            \"title\": \"Environment\",\n            \"enum\": [\n              \"LOCAL\",\n              \"SIT1\",\n              \"SIT2\",\n              \"SIT3\",\n              \"UAT1\",\n              \"UAT2\"\n            ]\n          },\n          \"comment\": {\n            \"title\": \"Comment\",\n            \"type\": \"string\",\n            \"maxLength\": 20,\n            \"validationMessage\": \"Don't be greedy! 20 Characters max please :)\",\n            \"description\": \"Please write your comment here.\"\n          }\n        },\n        \"required\": [\"name\", \"email\", \"comment\"]\n      },\n      \"form\": [\n        \"name\",\n        \"email\",\n        \"environment\", {\n          \"key\": \"comment\",\n          \"type\": \"textarea\",\n          \"placeholder\": \"Make a comment\"\n        }\n      ]\n\n    })\n\n  }\n\n  onModelChange(key, val) {\n    console.log('ExamplePage.onModelChange:', key, val);\n    var newModel = this.state.model;\n    utils.selectOrSet(key, newModel, val);\n    this.setState({model: newModel});\n    console.log(this.state.model);\n  }\n\n  onValidate() {\n    console.log('ExamplePage.onValidate is called');\n    let result = utils.validateBySchema(this.state.schema, this.state.model);\n    this.setState({validationResult: result});\n  }\n\n  onFormChange(val) {\n    try {\n      let f = JSON.parse(val);\n      this.setState({formJson: val, form: f});\n    } catch (e) {}\n  }\n\n  onSchemaChange() {\n    try {\n      let s = JSON.parse(val);\n      this.setState({schemaJson: val, schema: s});\n    } catch (e) {}\n  }\n\n  render() {\n\n    var mapper = {\n      \"rc-select\": RcSelect\n    };\n\n    return (\n      <PageTemplate header={< Header />} footer={< Footer />}>\n        <Grid>\n          <Row>\n            <Col xs={12}>\n              <Paper style={{\n                'padding': '20px'\n              }}>\n                <h3>Schema:</h3>\n                <pre>{JSON.stringify(this.state.schema,undefined,2,2)}</pre>\n                <h3>Form:</h3>\n                <pre>{JSON.stringify(this.state.form,undefined,2,2)}</pre>\n                <SchemaForm schema={this.state.schema} form={this.state.form} model={this.state.model} onModelChange={this.onModelChange} mapper={mapper}/> {/* {this.state.model} */}\n                <h3>Model:</h3>\n                <pre>{JSON.stringify(this.state.model,undefined,2,2)}</pre>\n                <h3>Validation:</h3>\n                <RaisedButton primary={true} label=\"Validate\" onTouchTap={this.onValidate}/>\n                <pre>{JSON.stringify(this.state.validationResult,undefined,2,2)}</pre>\n              </Paper>\n            </Col>\n          </Row>\n        </Grid>\n      </PageTemplate>\n    )\n  }\n}\n\nexport default FileDetailPage;\n"]}