{"version":3,"sources":["src/components/pages/LoginSigninPage/index.js"],"names":["LoginSigninPage","props","state","username","password","error","then","data","setState","window","location","href","event","key","target","getAttribute","obj","value","e","update","login","Component"],"mappings":";;;;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;;;;;;;IAEMA,e;;;AAEJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA,kIACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa;AACXC,gBAAU,EADC;AAEXC,gBAAU,EAFC;AAGXC,aAAO;AAHI,KAAb;AAFiB;AAOlB;;;;wCAEmB,CAAE;;;yCAED,CAAE;;;4BAEf;AAAA;;AACN,wBAAO,KAAKH,KAAZ,EAAmBI,IAAnB,CAAwB,gBAAQ;AAC9B,YAAIC,KAAKF,KAAT,EAAgB;AACd,iBAAKG,QAAL,CAAc,EAACH,OAAOE,KAAKF,KAAb,EAAd;AACD,SAFD,MAEO;AACL,0BAAKC,IAAL,CAAU,gBAAQ;AAChBG,mBAAOC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,WAFD;AAGD;AACF,OARD;AASD;;;2BAEMC,K,EAAO;AACZ,UAAIC,MAAMD,MAAME,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAV;AACA,UAAIC,MAAM,EAAV;AACAA,UAAIH,GAAJ,IAAWD,MAAME,MAAN,CAAaG,KAAxB;AACA,WAAKT,QAAL,CAAcQ,GAAd;AACA,WAAKR,QAAL,CAAc,EAACH,OAAO,EAAR,EAAd;AACD;;;6BAEQ;AAAA;;AACP,aACE;AAAA;AAAA,UAAc,QAAQ,uDAAtB,EAAmC,QAAQ,uDAA3C,EAAwD,WAAU,OAAlE;AACE,iEAAa,MAAM,KAAKH,KAAxB,EAA+B,QAAQ,gBAACgB,CAAD;AAAA,mBAAO,OAAKC,MAAL,CAAYD,CAAZ,CAAP;AAAA,WAAvC,EAA8D,SAAS;AAAA,mBAAM,OAAKE,KAAL,EAAN;AAAA,WAAvE;AADF,OADF;AAKD;;;;EAzC2B,gBAAMC,S;;eA4CrBrB,e;;;;;;;;;gCA5CTA,e","file":"index.js","sourceRoot":"/home/leo/htdocs/biodiversity_catalogue_v2_frontend","sourcesContent":["import React, {PropTypes} from 'react';\nimport {PageTemplate, Header, Footer, LoginSignin} from 'components';\nimport Snackbar from 'material-ui/Snackbar';\nimport {signin, me} from '../../../auth';\n\nclass LoginSigninPage extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      password: '',\n      error: ''\n    }\n  }\n\n  componentDidMount() {}\n\n  componentWillMount() {}\n\n  login() {\n    signin(this.state).then(data => {\n      if (data.error) {\n        this.setState({error: data.error});\n      } else {\n        me().then(user => {\n          window.location.href = '/';\n        })\n      }\n    });\n  }\n\n  update(event) {\n    var key = event.target.getAttribute(\"name\");\n    var obj = {};\n    obj[key] = event.target.value;\n    this.setState(obj);\n    this.setState({error: ''});\n  }\n\n  render() {\n    return (\n      <PageTemplate header={< Header />} footer={< Footer />} wallpaper='Login'>\n        <LoginSignin form={this.state} update={(e) => this.update(e)} trigger={() => this.login()}/>\n      </PageTemplate>\n    )\n  }\n}\n\nexport default LoginSigninPage;\n"]}